import type { Knex } from 'knex';
import { type Connection, type Dictionary } from '@mikro-orm/core';
import type { AbstractSqlConnection } from '../AbstractSqlConnection';
import type { AbstractSqlPlatform } from '../AbstractSqlPlatform';
import type { Check, Column, Index, Table, TableDifference } from '../typings';
import type { DatabaseTable } from './DatabaseTable';
import type { DatabaseSchema } from './DatabaseSchema';
export declare abstract class SchemaHelper {
    protected readonly platform: AbstractSqlPlatform;
    constructor(platform: AbstractSqlPlatform);
    getSchemaBeginning(charset: string): string;
    disableForeignKeysSQL(): string;
    enableForeignKeysSQL(): string;
    getSchemaEnd(): string;
    finalizeTable(table: Knex.TableBuilder, charset: string, collate?: string): void;
    supportsSchemaConstraints(): boolean;
    getPrimaryKeys(connection: AbstractSqlConnection, indexes: Index[] | undefined, tableName: string, schemaName?: string): Promise<string[]>;
    getForeignKeys(connection: AbstractSqlConnection, tableName: string, schemaName?: string): Promise<Dictionary>;
    protected getTableKey(t: Table): string;
    getEnumDefinitions(connection: AbstractSqlConnection, checks: Check[], tableName: string, schemaName?: string): Promise<Dictionary<string[]>>;
    loadInformationSchema(schema: DatabaseSchema, connection: AbstractSqlConnection, tables: Table[]): Promise<void>;
    getListTablesSQL(schemaName?: string): string;
    getRenameColumnSQL(tableName: string, oldColumnName: string, to: Column, schemaName?: string): string;
    getCreateIndexSQL(tableName: string, index: Index): string;
    getDropIndexSQL(tableName: string, index: Index): string;
    getRenameIndexSQL(tableName: string, index: Index, oldIndexName: string): string;
    hasNonDefaultPrimaryKeyName(table: DatabaseTable): boolean;
    createTableColumn(table: Knex.TableBuilder, column: Column, fromTable: DatabaseTable, changedProperties?: Set<string>): Knex.ColumnBuilder;
    configureColumn(column: Column, col: Knex.ColumnBuilder, knex: Knex, changedProperties?: Set<string>): Knex.ColumnBuilder;
    configureColumnDefault(column: Column, col: Knex.ColumnBuilder, knex: Knex, changedProperties?: Set<string>): Knex.ColumnBuilder;
    getPreAlterTable(tableDiff: TableDifference, safe: boolean): string;
    getAlterColumnAutoincrement(tableName: string, column: Column, schemaName?: string): string;
    getChangeColumnCommentSQL(tableName: string, to: Column, schemaName?: string): string;
    getNamespaces(connection: AbstractSqlConnection): Promise<string[]>;
    getColumns(connection: AbstractSqlConnection, tableName: string, schemaName?: string): Promise<Column[]>;
    getIndexes(connection: AbstractSqlConnection, tableName: string, schemaName?: string): Promise<Index[]>;
    getChecks(connection: AbstractSqlConnection, tableName: string, schemaName?: string, columns?: Column[]): Promise<Check[]>;
    protected mapIndexes(indexes: Index[]): Promise<Index[]>;
    getForeignKeysSQL(tableName: string, schemaName?: string): string;
    mapForeignKeys(fks: any[], tableName: string, schemaName?: string): Dictionary;
    normalizeDefaultValue(defaultValue: string, length?: number, defaultValues?: Dictionary<string[]>): string | number;
    getCreateDatabaseSQL(name: string): string;
    getDropDatabaseSQL(name: string): string;
    getDatabaseExistsSQL(name: string): string;
    getDatabaseNotExistsError(dbName: string): string;
    getManagementDbName(): string;
    getDefaultEmptyString(): string;
    databaseExists(connection: Connection, name: string): Promise<boolean>;
    /**
     * Uses `raw` method injected in `AbstractSqlConnection` to allow adding custom queries inside alter statements.
     */
    pushTableQuery(table: Knex.TableBuilder, expression: string, grouping?: string): void;
}
