import { EntityMetadata, type Constructor } from '../typings';
import type { Configuration } from '../utils/Configuration';
import { MetadataStorage } from './MetadataStorage';
import type { Platform } from '../platforms';
export declare class MetadataDiscovery {
    private readonly metadata;
    private readonly platform;
    private readonly config;
    private readonly namingStrategy;
    private readonly metadataProvider;
    private readonly cache;
    private readonly logger;
    private readonly schemaHelper;
    private readonly validator;
    private readonly discovered;
    constructor(metadata: MetadataStorage, platform: Platform, config: Configuration);
    discover(preferTsNode?: boolean): Promise<MetadataStorage>;
    processDiscoveredEntities(discovered: EntityMetadata[]): Promise<EntityMetadata[]>;
    private findEntities;
    private discoverMissingTargets;
    private tryDiscoverTargets;
    private discoverDirectories;
    discoverReferences<T>(refs: Constructor<T>[]): Promise<EntityMetadata<T>[]>;
    private prepare;
    private getSchema;
    private discoverEntity;
    private saveToCache;
    private initNullability;
    private applyNamingStrategy;
    private initFieldName;
    private initManyToOneFieldName;
    private initManyToManyFieldName;
    private initManyToManyFields;
    private initManyToOneFields;
    private initOneToManyFields;
    private processEntity;
    private findReferencingProperties;
    private initFactoryField;
    private ensureCorrectFKOrderInPivotEntity;
    private definePivotTableEntity;
    private defineFixedOrderProperty;
    private definePivotProperty;
    private autoWireBidirectionalProperties;
    private defineBaseEntityProperties;
    private initPolyEmbeddables;
    private initEmbeddables;
    private initSingleTableInheritance;
    private createDiscriminatorProperty;
    private initAutoincrement;
    private initCheckConstraints;
    private getDefaultVersionValue;
    private initDefaultValue;
    private initVersionProperty;
    private initCustomType;
    private initRelation;
    private initColumnType;
    private getMappedType;
    private initEnumValues;
    private initUnsigned;
    private initIndexes;
    private isNumericProperty;
    private getEntityClassOrSchema;
    private shouldForceConstructorUsage;
}
